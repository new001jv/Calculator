function displayHistory(n,t){for(var r,u,f=["history_2","history_3","history_4","history_5","history_6","history_7"],e=n,o=t,s,h,i=0;i<f.length-1;)r=f[i+1],u=f[i],s=document.getElementById(r).innerHTML||" ",h=document.getElementById(u).innerHTML||" ",document.getElementById(r).innerHTML=" ",document.getElementById(u).innerHTML=" ",document.getElementById(r).innerHTML=e||"0",document.getElementById(u).innerHTML=o||"0",e=s,o=h,i+=2}function TransformCalculator(n){switch(n){case"standard":isStandard=!0;isGraphing&&(isGraphing=!1,$(".function-plot").remove(),$("#screen").css("background","#263238"),$("#numberBtns").slideDown(),$("#graphingInput").slideUp());isDeveloper&&(isDeveloper=!1,$("#numberBtns, #screen, #clearBtn").slideDown(),$("#developerOptions").slideUp(),$("#calculator").removeClass("developerClass"));$("#scientificRegion").slideUp();break;case"scientific":isScientific=!0;isGraphing&&(isGraphing=!1,$(".function-plot").remove(),$("#screen").css("background","#263238"),$("#numberBtns").slideDown(),$("#graphingInput").slideUp());isDeveloper&&(isDeveloper=!1,$("#numberBtns, #screen, #clearBtn").slideDown(),$("#developerOptions").slideUp(),$("#calculator").removeClass("developerClass"));$("#scientificRegion").slideDown();break;case"graphing":isGraphing=!0;isDeveloper&&(isDeveloper=!1,$("#screen, #clearBtn").slideDown(),$("#developerOptions").slideUp());$("#screen").css("background","white");$("#graphingInput").slideDown();$("#numberBtns, #scientificRegion").slideUp();break;case"developer":isDeveloper=!0;$("#scientificRegion, #numberBtns, #screen, #clearBtn").slideUp();$("#calculator").addClass("developerClass");$("#developerOptions").slideDown();isGraphing&&(isGraphing=!1,$("#graphingInput").slideUp())}}function Plot(n){functionPlot({width:300,height:250,target:"#screen",yAxis:{domain:[-3,3]},tip:{renderer:function(){}},grid:!0,data:[{fn:n}]})}function deleteHistory(){var n=["top","history_2","history_3","history_4","history_5","history_6","history_7"];for(i in n)document.getElementById(n[i]).innerHTML=" "}function numConversion(n){return n<=15?"0"+n.toString(16):n.toString(16)}for(var keys=document.querySelectorAll("#calculator span"),operators=["+","-","x","÷"],decimalAdded=!1,clearCounter=0,i=0;i<keys.length;i++)keys[i].onclick=function(n){var t=document.querySelector("#top"),r=document.querySelector("#bottom"),i=t.innerHTML,u=this.innerHTML,f,e;operators.indexOf(u)>-1?(e=i[i.length-1],i!=""&&operators.indexOf(e)==-1?t.innerHTML+=u:i==""&&u=="-"&&(t.innerHTML+=u),operators.indexOf(e)>-1&&i.length>1&&(t.innerHTML=i.replace(/.$/,u)),decimalAdded=!1):u=="."?decimalAdded||(t.innerHTML+=u,decimalAdded=!0):u!="="&&(t.innerHTML+=u);switch(u){case"Clear":clearCounter++;t.innerHTML="";decimalAdded=!1;isGraphing&&($("#inputTxtBox").val(""),Plot("0"));clearCounter>1&&(console.log("delete history"),deleteHistory(),clearCounter=0);break;case"sin":t.innerHTML="sin("+i+")";r=Math.sin(i);displayHistory(t.innerHTML,r);t.innerHTML="";break;case"cos":t.innerHTML="cos("+i+")";r=Math.cos(i);displayHistory(t.innerHTML,r);t.innerHTML="";break;case"tan":t.innerHTML="tan("+i+")";r=Math.tan(i);displayHistory(t.innerHTML,r);t.innerHTML="";break;case"e":t.innerHTML="e^"+i;r=Math.exp(i);displayHistory(t.innerHTML,r);t.innerHTML="";break;case"ln":t.innerHTML="ln("+i+")";r=Math.log(i);displayHistory(t.innerHTML,r);t.innerHTML="";break;case"%":t.innerHTML=i+"%";r=i/100;displayHistory(t.innerHTML,r);t.innerHTML="";break;case"sqrt":t.innerHTML="√"+i;r=Math.sqrt(i);displayHistory(t.innerHTML,r);t.innerHTML="";break;case"x^2":t.innerHTML=i+"^2";r=Math.pow(i,2);displayHistory(t.innerHTML,r);t.innerHTML="";break;case"=":clearCounter=0;f=i;e=f[f.length-1];f=f.replace(/x/g,"*").replace(/÷/g,"/");(operators.indexOf(e)>-1||e==".")&&(f=f.replace(/.$/,""));f&&(r=eval(f),t.innerHTML="",displayHistory(f,r));decimalAdded=!1}n.preventDefault()};var isStandard=!0,isGraphing=!1,isScientific=!1,isDeveloper=!1;$("#scientific").change(function(){TransformCalculator("scientific")});$("#standard").change(function(){TransformCalculator("standard")});$("#graphing").change(function(){deleteHistory();TransformCalculator("graphing");var n=window.functionPlot;Plot("0")});$("#developer").change(function(){TransformCalculator("developer")});$("#graphingInput").keypress(function(n){if(n.which==13){var t=$("#inputTxtBox").val()||0;Plot(t)}});$(document).keypress(function(n){n.keyCode>=49&&n.keyCode<=57&&$("#top").append(n.key);console.log(n.keyCode,n.key)});$(function(){$("#slider-range-max").slider({range:"max",min:8,max:24,value:16,slide:function(n,t){$("#amount").text(t.value)}});$("#amount").text($("#slider-range-max").slider("value"))});$("#emBtn").click(function(){var n=$("#slider-range-max").slider("value"),t=$("#developerInput").val()||0,i=t/n;$("#developerAns").text(i.toFixed(4)+" em")});$("#pxBtn").click(function(){var n=$("#slider-range-max").slider("value"),t=$("#developerInput").val()||0,i=t*n;$("#developerAns").text(i.toFixed(4)+" px")});$("#colorBtn").click(function(){var n=parseInt($("#redInput").val()||0),t=parseInt($("#greenInput").val()||0),i=parseInt($("#blueInput").val()||0);n<=255&&n>=0&&t<=255&&t>=0&&i<=255&&i>=0?$("#colorAns").text("#"+numConversion(n)+numConversion(t)+numConversion(i)):alert("Error: Enter a number between 0 and 255.")});