function Plot(n){functionPlot({width:300,height:250,target:"#screen",yAxis:{domain:[-3,3]},tip:{renderer:function(){}},grid:!0,data:[{fn:n}]})}for(var isGraphing,isScientific,keys=document.querySelectorAll("#calculator span"),operators=["+","-","x","รท"],decimalAdded=!1,i=0;i<keys.length;i++)keys[i].onclick=function(n){var t=document.querySelector("#top"),i=t.innerHTML,r=this.innerHTML,u,f;operators.indexOf(r)>-1?(f=i[i.length-1],i!=""&&operators.indexOf(f)==-1?t.innerHTML+=r:i==""&&r=="-"&&(t.innerHTML+=r),operators.indexOf(f)>-1&&i.length>1&&(t.innerHTML=i.replace(/.$/,r)),decimalAdded=!1):r=="."?decimalAdded||(t.innerHTML+=r,decimalAdded=!0):t.innerHTML+=r;switch(r){case"Clear":t.innerHTML="";decimalAdded=!1;isGraphing&&$("#inputTxtBox").val("");break;case"sin":t.innerHTML=Math.sin(i);break;case"cos":t.innerHTML=Math.cos(i);break;case"tan":t.innerHTML=Math.tan(i);break;case"e":t.innerHTML=Math.exp(i);break;case"ln":t.innerHTML=Math.log(i);break;case"%":t.innerHTML=i/100;break;case"sqrt":t.innerHTML=Math.sqrt(i);break;case"x^2":t.innerHTML=Math.pow(i,2);break;case"=":u=i;f=u[u.length-1];u=u.replace(/x/g,"*").replace(/รท/g,"/");(operators.indexOf(f)>-1||f==".")&&(u=u.replace(/.$/,""));u&&(t.innerHTML=eval(u));decimalAdded=!1}n.preventDefault()};isGraphing=!1;isScientific=!1;$("#scientific").change(function(){isGraphing&&(isGraphing=!1,$(".function-plot").remove(),$("#screen").css("background","#263238"),$("#numberBtns").slideDown(),$("#graphingInput").slideUp());$("#scientificRegion").slideDown()});$("#standard").change(function(){isGraphing&&(isGraphing=!1,$(".function-plot").remove(),$("#screen").css("background","#263238"),$("#numberBtns").slideDown(),$("#graphingInput").slideUp());$("#scientificRegion").slideUp()});$("#graphing").change(function(){isGraphing=!0;var n=window.functionPlot;$("#screen").css("background","white");$("#graphingInput").slideDown();$("#numberBtns, #scientificRegion").slideUp();Plot("0")});$("#graphingInput").keypress(function(n){if(n.which==13){var t=$("#inputTxtBox").val()||0;Plot(t)}});